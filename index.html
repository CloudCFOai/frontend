<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>CloudCFO.ai ‚Äî Landing + Dashboard (EN/FR)</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
  <style>
    :root{
      --primary-navy:#0A1628;
      --electric:#0066FF;
      --teal:#0fb6d3;
      --emerald:#10B981;
      --amber:#F59E0B;
      --coral:#FF6B6B;
      --gray-900:#0b1220;
      --gray-800:#111827;
      --gray-700:#374151;
      --gray-600:#4B5563;
      --gray-500:#6B7280;
      --gray-400:#9CA3AF;
      --off:#FAFBFC;
      --white:#fff;
      --shadow-lg:0 20px 40px rgba(10,22,40,.18);
      --radius:16px;
      --ease: cubic-bezier(.22,.61,.36,1);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family:Inter, system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
      color:var(--gray-800);
      background:linear-gradient(180deg,#f7f9ff, #fff);
    }
    .app{display:grid; grid-template-columns: 280px 1fr; min-height:100vh}
    aside{position:sticky; top:0; height:100vh; background:linear-gradient(180deg, var(--primary-navy), #15223a); color:#e7efff; padding:24px; box-shadow: inset 0 0 0 1px rgba(255,255,255,.06)}
    .brand{display:flex; align-items:center; gap:10px; font-weight:800; letter-spacing:-.02em; font-size:20px}
    .brand .badge{padding:4px 8px; border-radius:999px; background:rgba(255,255,255,.08); font-size:12px; font-weight:600}
    nav{margin-top:24px}
    .nav-group-title{margin:18px 10px 8px; font-size:12px; letter-spacing:.08em; text-transform:uppercase; opacity:.6}
    .nav-item{display:flex; align-items:center; gap:12px; padding:12px 14px; border-radius:10px; cursor:pointer; transition: transform .2s var(--ease), background .2s var(--ease), box-shadow .2s var(--ease); margin-bottom:8px}
    .nav-item:hover{transform:translateX(4px); background:rgba(255,255,255,.06)}
    .nav-item.active{background:linear-gradient(90deg, var(--electric), #3aa3ff); color:white; box-shadow:0 10px 20px rgba(0,102,255,.25)}
    .content{padding:0}
    .lang-toggle{margin-top:18px; display:flex; gap:8px}
    .lang-btn{background:rgba(255,255,255,.1); color:#fff; border:1px solid rgba(255,255,255,.25); border-radius:999px; padding:6px 10px; cursor:pointer; font-weight:700}
    .lang-btn.active{background:#fff; color:#0a1628}
    .section{padding:56px clamp(16px,3vw,40px)}
    .hero{position:relative; overflow:hidden; background: radial-gradient(1200px 600px at 20% -10%,rgba(0,102,255,.25),transparent), radial-gradient(900px 500px at 100% 10%,rgba(15,182,211,.25),transparent), linear-gradient(135deg,#0a1628, #13305d 30%, #0f1c39); color:white; border-bottom-left-radius:24px; border-bottom-right-radius:24px}
    .hero-inner{max-width:1200px; margin:0 auto; display:grid; grid-template-columns:1.1fr .9fr; gap:36px; align-items:center}
    .hero h1{font-size: clamp(32px,4vw,56px); line-height:1.05; margin:0; letter-spacing:-.03em}
    .hero p{opacity:.9; font-size: clamp(16px,1.2vw,20px)}
    .cta{display:flex; gap:12px; margin-top:24px}
    .btn{padding:14px 20px; border-radius:12px; font-weight:700; border:0; cursor:pointer; transition:transform .15s var(--ease), box-shadow .2s var(--ease), filter .2s var(--ease)}
    .btn-primary{background:linear-gradient(135deg,var(--electric), #3aa3ff); color:white; box-shadow:0 10px 20px rgba(0,102,255,.3)}
    .btn-secondary{background:rgba(255,255,255,.1); color:white; border:1.5px solid rgba(255,255,255,.25); backdrop-filter: blur(8px)}
    .btn:hover{transform:translateY(-2px) scale(1.02)}
    .btn:active{transform:translateY(0) scale(.98)}
    .dash{background: #0d1830; border-radius:16px; padding:20px; box-shadow: var(--shadow-lg); border:1px solid rgba(255,255,255,.06)}
    .cards{display:grid; grid-template-columns:repeat(2,minmax(0,1fr)); gap:12px}
    .card{background:linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.05)); border:1px solid rgba(255,255,255,.12); border-radius:14px; padding:14px; min-height:120px}
    .stat{font-size:28px; font-weight:800}
    canvas{max-width:100%}
    .device{border-radius:24px; overflow:hidden; background:white; padding:6px}
    .hero-floating{position:absolute; inset:auto 0 -80px auto; right:48px; width:min(520px, 42vw); transform: rotate(-2deg); filter:drop-shadow(0 30px 40px rgba(0,0,0,.4)); animation: float 6s ease-in-out infinite}
    @keyframes float{0%,100%{transform: translateY(0) rotate(-2deg)}50%{transform: translateY(-10px) rotate(-2deg)}}
    .section h2{font-size: clamp(28px,2.5vw,40px); margin:0 0 14px}
    .sub{color:var(--gray-600); margin-bottom:28px}
    .grid{display:grid; grid-template-columns: repeat(12, 1fr); gap:18px; max-width:1200px; margin:0 auto}
    .col-6{grid-column: span 6}
    .col-12{grid-column: span 12}
    .glass{background:rgba(255,255,255,.7); border:1px solid rgba(10,22,40,.08); backdrop-filter: blur(10px); border-radius:16px; padding:20px}
    .feature{display:flex; gap:12px; align-items:flex-start; padding:14px 12px; border-radius:12px; transition:transform .2s var(--ease), box-shadow .2s}
    .feature:hover{transform:translateY(-2px); box-shadow:0 10px 20px rgba(10,22,40,.08)}
    .badge{display:inline-flex; align-items:center; gap:8px; padding:6px 10px; border-radius:999px; font-size:12px; font-weight:700}
    .success{background:rgba(16,185,129,.12); color:#065f46}
    .warning{background:rgba(245,158,11,.12); color:#92400e}
    .accent{background:rgba(0,102,255,.12); color:#0046a3}
    .services{display:grid; grid-template-columns:repeat(auto-fit,minmax(240px,1fr)); gap:14px}
    .svc{background:white; border:1.5px solid rgba(0,0,0,.05); border-radius:16px; padding:18px; transition: transform .2s var(--ease), box-shadow .2s var(--ease), border .2s}
    .svc:hover{transform:translateY(-4px) scale(1.01); box-shadow:0 16px 30px rgba(10,22,40,.08); border-color: rgba(0,102,255,.4)}
    .svc h4{margin:8px 0 4px}
    .svc .meta{display:flex; gap:12px; font-size:12px; color:var(--gray-600)}
    .svc .connect{width:100%; margin-top:12px}
    .svc.connected{border-color: rgba(16,185,129,.6); background:linear-gradient(180deg, rgba(16,185,129,.07), white)}
    .hover-scale{transition: transform .15s var(--ease)} .hover-scale:hover{transform:scale(1.02)}
    .skeleton{position:relative; overflow:hidden; background:#e9edf5}
    .skeleton::after{content:''; position:absolute; inset:0; transform:translateX(-100%); background:linear-gradient(90deg, rgba(255,255,255,0) 0, rgba(255,255,255,.6) 50%, rgba(255,255,255,0) 100%); animation: shimmer 1.6s infinite}
    @keyframes shimmer{100%{transform:translateX(100%)}}
    .check{display:inline-flex; align-items:center; gap:8px; font-weight:700; color:var(--emerald)}
    .panel{max-width:1200px; margin:0 auto}
    /* Dashboard area */
    .shell{display:grid;grid-template-columns:260px 1fr;gap:16px}
    .db-sidebar{background:var(--primary-navy);color:#fff;border-radius:16px;padding:16px;min-height:640px}
    .db-item{display:flex;align-items:center;gap:10px;padding:10px 12px;border-radius:10px;cursor:pointer}
    .db-item:hover{background:rgba(255,255,255,.1)}
    .db-item.active{background:var(--electric)}
    .db-main{background:#fff;border:1px solid rgba(0,0,0,.06);border-radius:16px;padding:20px;min-height:640px}
    .kpi{display:grid;grid-template-columns:repeat(4,minmax(0,1fr));gap:12px}
    .metric{background:#fff;border:1.5px solid rgba(0,0,0,.06);border-radius:12px;padding:16px}
    .metric .label{color:var(--gray-500);font-size:.85rem}
    .metric .value{font-size:28px;font-weight:800;margin-top:6px}
    .badgePill{display:inline-block;padding:6px 12px;border-radius:999px;font-weight:700;font-size:.8rem}
    .badgePill.success{background:rgba(16,185,129,.12);color:var(--emerald)}
    .badgePill.warn{background:rgba(245,158,11,.12);color:var(--amber)}
    .table{width:100%;border-collapse:separate;border-spacing:0 10px}
    .table th{font-size:.8rem;text-transform:uppercase;letter-spacing:.04em;color:#fff;background:var(--primary-navy);padding:10px 12px}
    .table td{background:#fff;padding:12px;border-top:1px solid #e5e7eb;border-bottom:1px solid #e5e7eb}
    .subtabs{display:flex;gap:8px;margin-bottom:12px;flex-wrap:wrap}
    .subtab{padding:8px 12px;border-radius:999px;border:1px solid #e5e7eb;background:#fff;cursor:pointer;font-weight:700}
    .subtab.active{background:var(--electric);color:#fff;border-color:transparent}
    /* Mobile */
    @media(max-width: 980px){
      .app{grid-template-columns:1fr}
      aside{display:none}
      .hero-inner{grid-template-columns:1fr}
      .hero-floating{position:relative; right:auto; inset:auto; width:100%; transform:none; margin-top:16px}
      .mobile-nav{position:fixed; bottom:12px; left:12px; right:12px; display:flex; background:white; border-radius:20px; box-shadow:0 10px 30px rgba(0,0,0,.15); padding:10px; justify-content:space-around; z-index:50}
      .mobile-nav button{background:transparent; border:0; padding:8px 12px; border-radius:12px; font-weight:700}
      .fab{position:fixed; right:18px; bottom:78px; width:56px; height:56px; border-radius:50%; background:linear-gradient(135deg,var(--electric),#3aa3ff); color:white; border:0; box-shadow:0 10px 20px rgba(0,102,255,.35)}
    }
    .ptr{position:fixed; top:-60px; left:0; right:0; height:60px; display:flex; align-items:center; justify-content:center; color:#2b5cff; font-weight:700; transition: transform .2s var(--ease); pointer-events:none}
    .show-ptr{transform: translateY(72px)}
    .fade-in{animation:fade .5s var(--ease)} @keyframes fade{from{opacity:0; transform: translateY(6px)} to{opacity:1; transform:none}}
    .top-tabs{display:flex; gap:8px; margin-top:14px}
    .top-tab{padding:6px 10px; border-radius:999px; border:1px solid rgba(255,255,255,.25); background:rgba(255,255,255,.08); color:#fff; cursor:pointer; font-weight:700}
    .top-tab.active{background:#fff; color:#0a1628}
    .hidden{display:none}
  </style>
</head>
<body>
<div class="ptr" id="ptr">‚Üì Pull to refresh</div>
<div class="app">
  <aside>
    <div class="brand">CloudCFO.ai <span class="badge">Beta</span></div>
    <div class="lang-toggle">
      <button class="lang-btn active" id="btnEN">EN</button>
      <button class="lang-btn" id="btnFR">FR</button>
    </div>
    <div class="top-tabs">
      <button class="top-tab active" id="tabLanding" data-i18n="tabLanding">Landing</button>
      <button class="top-tab" id="tabDash" data-i18n="tabDash">Dashboard</button>
    </div>
    <nav id="landingNav">
      <div class="nav-group-title" data-i18n="groupLanding">Landing</div>
      <div class="nav-item active" data-target="#general" data-i18n="navGeneral">üè† General</div>
      <div class="nav-item" data-target="#differentiators" data-i18n="navDiff">‚ú® Differentiators</div>
      <div class="nav-item" data-target="#signup" data-i18n="navSignup">üìù Sign‚Äëup & Integrations</div>
    </nav>
    <nav id="dashNav" class="hidden">
      <div class="nav-group-title" data-i18n="groupDashboard">Dashboard</div>
      <div class="nav-item active" data-target="#dash-overview" data-i18n="dbOverview">üìä Overview</div>
      <div class="nav-item" data-target="#dash-reports" data-i18n="dbReports">üìà Financial Reports</div>
      <div class="nav-item" data-target="#dash-carbon" data-i18n="dbCarbon">üå± Carbon Accounting</div>
      <div class="nav-item" data-target="#dash-banking" data-i18n="dbBanking">üè¶ Banking Reports</div>
      <div class="nav-item" data-target="#dash-integrations" data-i18n="dbIntegrations">üîó Integrations</div>
      <div class="nav-item" data-target="#dash-settings" data-i18n="dbSettings">‚öôÔ∏è Settings</div>
    </nav>
    <div style="margin-top:24px; font-size:13px; opacity:.9">
      <div class="badge success" data-i18n="badgeSoc2">SOC2‚Äëready</div>
      <div class="badge warning" data-i18n="badgeOcr">Sub‚Äësecond OCR</div>
      <div class="badge accent" data-i18n="badgeCarbon">Carbon Passport</div>
    </div>
  </aside>

  <main class="content">
    <!-- LANDING -->
    <section class="section hero" id="general">
      <div class="hero-inner">
        <div>
          <h1 data-i18n="heroTitle">Your AI‚ÄëPowered CFO in the Cloud</h1>
          <p data-i18n="heroSub">Connect email, drives, and chats ‚Äî CloudCFO auto‚Äëdiscovers receipts, extracts data in <b>&lt;500ms</b>, and turns them into real‚Äëtime insights and a üå± Carbon Passport.</p>
          <div class="cta">
            <button class="btn btn-primary hover-scale" id="connectBtn" data-i18n="btnConnect">üîç Connect your accounts</button>
            <button class="btn btn-secondary hover-scale" id="uploadBtn" data-i18n="btnUpload">üì§ Quick upload</button>
          </div>
          <div style="margin-top:18px; display:flex; gap:10px; align-items:center">
            <span class="badge accent" data-i18n="worksWith">Works with: Gmail ¬∑ Drive ¬∑ Dropbox ¬∑ WhatsApp ¬∑ Telegram</span>
          </div>
        </div>
        <div class="device hero-floating">
          <div class="dash">
            <div class="cards">
              <div class="card">
                <div style="font-size:12px; opacity:.8" data-i18n="metricTotalExpenses">Total Expenses</div>
                <div class="stat">$12,458</div>
                <canvas id="spark1" height="50"></canvas>
              </div>
              <div class="card">
                <div style="font-size:12px; opacity:.8" data-i18n="metricCarbon">Carbon this month</div>
                <div class="stat">2.4t CO‚ÇÇe</div>
                <canvas id="spark2" height="50"></canvas>
              </div>
              <div class="card">
                <div style="font-size:12px; opacity:.8" data-i18n="metricDocs">Docs processed</div>
                <div class="stat">847</div>
                <div class="skeleton" style="height:10px; border-radius:5px; margin-top:6px"></div>
              </div>
              <div class="card">
                <div style="font-size:12px; opacity:.8" data-i18n="metricHit">Hit rate</div>
                <div class="stat">95%</div>
                <div class="check" data-i18n="metricAccSla">‚úì Accuracy SLA</div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section class="section fade-in" id="differentiators">
      <div class="panel">
        <h2 data-i18n="whyTitle">Why CloudCFO</h2>
        <p class="sub" data-i18n="whySub">AI‚Äëfirst financial automation, native chat integrations, and built‚Äëin carbon intelligence.</p>
        <div class="grid">
          <div class="col-6 glass feature">
            <div>ü§ñ</div>
            <div>
              <h3 data-i18n="featAI">AI‚ÄëFirst Extraction</h3>
              <p data-i18n="featAIDesc">Advanced LLM + vision pipeline delivers <b>sub‚Äësecond</b> processing and self‚Äëlearning patterns.</p>
            </div>
          </div>
          <div class="col-6 glass feature">
            <div>üí¨</div>
            <div>
              <h3 data-i18n="featChat">WhatsApp & Telegram Native</h3>
              <p data-i18n="featChatDesc">Send a photo, we do the rest ‚Äî the fastest way to capture receipts on mobile.</p>
            </div>
          </div>
          <div class="col-6 glass feature">
            <div>üå±</div>
            <div>
              <h3 data-i18n="featCarbon">Carbon Passport</h3>
              <p data-i18n="featCarbonDesc">Automatic Scope 1/2/3 mapping from invoices with downloadable, verifiable passports.</p>
            </div>
          </div>
          <div class="col-6 glass feature">
            <div>‚ö°</div>
            <div>
              <h3 data-i18n="featDev">Developer‚ÄëFriendly</h3>
              <p data-i18n="featDevDesc">Clean APIs & webhooks, great docs, and thoughtful defaults inspired by Stripe.</p>
            </div>
          </div>
        </div>

        <div class="grid" style="margin-top:16px">
          <div class="col-12 glass">
            <h3 style="margin-top:0" data-i18n="perfSnap">Performance snapshot</h3>
            <canvas id="areaChart" height="80"></canvas>
          </div>
        </div>
      </div>
    </section>

    <section class="section fade-in" id="signup">
      <div class="panel">
        <h2 data-i18n="signupTitle">Sign‚Äëup & Connect your channels</h2>
        <p class="sub" data-i18n="signupSub">Choose any intake source below. We‚Äôll start auto‚Äëdiscovering receipts instantly.</p>

        <div class="services">
          <div class="svc connected">
            <div style="font-size:28px">üìß</div>
            <h4>Gmail</h4>
            <div class="meta"><span>523 <span data-i18n="found">found</span></span><span><span data-i18n="accuracy">Accuracy</span> 95%</span></div>
            <button class="btn btn-primary connect">‚úì <span data-i18n="connected">Connected</span></button>
          </div>
          <div class="svc">
            <div style="font-size:28px">üìÆ</div>
            <h4>Outlook</h4>
            <p class="sub" style="margin:4px 0 8px" data-i18n="outlookDesc">Import from Microsoft email</p>
            <button class="btn btn-primary connect" data-i18n="connect">Connect</button>
          </div>
          <div class="svc connected">
            <div style="font-size:28px">üìÅ</div>
            <h4>Google Drive</h4>
            <div class="meta"><span>189 <span data-i18n="found">found</span></span><span>100% <span data-i18n="accuracy">Accuracy</span></span></div>
            <button class="btn btn-primary connect">‚úì <span data-i18n="connected">Connected</span></button>
          </div>
          <div class="svc">
            <div style="font-size:28px">üíß</div>
            <h4>Dropbox</h4>
            <p class="sub" style="margin:4px 0 8px" data-i18n="dropboxDesc">Scan selected folders</p>
            <button class="btn btn-primary connect" data-i18n="connect">Connect</button>
          </div>
          <div class="svc">
            <div style="font-size:28px">üì±</div>
            <h4>WhatsApp Business</h4>
            <p class="sub" style="margin:4px 0 8px" data-i18n="waDesc">Forward photos or PDFs</p>
            <button class="btn btn-primary connect" data-i18n="connect">Connect</button>
          </div>
          <div class="svc connected">
            <div style="font-size:28px">üí¨</div>
            <h4>Telegram</h4>
            <div class="meta"><span>135 <span data-i18n="found">found</span></span><span>88% <span data-i18n="accuracy">Accuracy</span></span></div>
            <button class="btn btn-primary connect">‚úì <span data-i18n="connected">Connected</span></button>
          </div>
          <div class="svc">
            <div style="font-size:28px">üëî</div>
            <h4>Slack</h4>
            <p class="sub" style="margin:4px 0 8px" data-i18n="slackDesc">Scan workspace channels</p>
            <button class="btn btn-primary connect" data-i18n="connect">Connect</button>
          </div>
          <div class="svc">
            <div style="font-size:28px">‚òÅÔ∏è</div>
            <h4>OneDrive</h4>
            <p class="sub" style="margin:4px 0 8px" data-i18n="onedriveDesc">Microsoft cloud storage</p>
            <button class="btn btn-primary connect" data-i18n="connect">Connect</button>
          </div>
        </div>

        <div class="grid" style="margin-top:20px">
          <div class="col-12 glass">
            <h3 style="margin:0 0 10px" data-i18n="discoverMetrics">Discovery metrics</h3>
            <div class="grid">
              <div class="col-6">
                <canvas id="donut" height="200"></canvas>
              </div>
              <div class="col-6">
                <div class="feature"><span class="badge success">‚úì <span data-i18n="receiptsFound">847 Receipts Found</span></span></div>
                <div class="feature"><span class="badge accent"><span data-i18n="accuracyRate">92% Accuracy</span></span></div>
                <div class="feature"><span class="badge"><span data-i18n="avgTime">3.2 min Avg discovery time</span></span></div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <footer class="section" style="text-align:center; color:var(--gray-600)">
      <div class="panel">
        <span data-i18n="footer">Built with ‚ù§Ô∏è ‚Äî micro‚Äëinteractions, parallax, and smooth page transitions included. Try on mobile to see bottom navigation, swipeable cards and pull‚Äëto‚Äërefresh.</span>
      </div>
    </footer>

    <!-- DASHBOARD (hidden until selected) -->
    <section class="section hidden" id="dashboardRoot">
      <div class="panel">
        <h2 data-i18n="dashTitle">Analytics Dashboard</h2>
        <div class="shell">
          <aside class="db-sidebar">
            <div class="db-item active" data-sub="overview" data-i18n="dbOverview">üìä Overview</div>
            <div class="db-item" data-sub="reports" data-i18n="dbReports">üìà Financial Reports</div>
            <div class="db-item" data-sub="carbon" data-i18n="dbCarbon">üå± Carbon Accounting</div>
            <div class="db-item" data-sub="banking" data-i18n="dbBanking">üè¶ Banking Reports</div>
            <div class="db-item" data-sub="integrations" data-i18n="dbIntegrations">üîó Integrations</div>
            <div class="db-item" data-sub="settings" data-i18n="dbSettings">‚öôÔ∏è Settings</div>
            <div style="margin-top:auto;padding-top:16px;opacity:.8;font-size:12px">Pro Plan ‚Ä¢ 1,247 docs</div>
          </aside>
          <main class="db-main">
            <!-- Overview -->
            <section id="view-overview" class="subview">
              <div class="kpi">
                <div class="metric"><div class="label" data-i18n="kpiExpenses">Total Expenses</div><div class="value">$12,458</div><span class="badgePill success">‚Üì 12%</span></div>
                <div class="metric"><div class="label" data-i18n="kpiDocs">Docs Processed</div><div class="value">847</div></div>
                <div class="metric"><div class="label" data-i18n="kpiTax">Tax Deductions</div><div class="value">$3,892</div></div>
                <div class="metric"><div class="label" data-i18n="kpiCo2">CO‚ÇÇe (month)</div><div class="value">2.4t</div></div>
              </div>
              <div class="grid" style="grid-template-columns:repeat(12,1fr);gap:16px;margin-top:16px">
                <div class="col-6 glass">
                  <h3 style="margin-top:0" data-i18n="chartRevExp">Monthly Revenue vs Expenses</h3>
                  <canvas id="ov_line"></canvas>
                </div>
                <div class="col-6 glass">
                  <h3 style="margin-top:0" data-i18n="chartUsers">Monthly Users</h3>
                  <canvas id="ov_bar"></canvas>
                </div>
              </div>
              <h3 style="margin-top:24px" data-i18n="recentActivity">Recent Activity</h3>
              <table class="table">
                <thead><tr><th data-i18n="thDoc">Document</th><th data-i18n="thSource">Source</th><th data-i18n="thVendor">Vendor</th><th data-i18n="thAmount">Amount</th><th data-i18n="thStatus">Status</th></tr></thead>
                <tbody>
                  <tr><td>Receipt_001.jpg</td><td>üìß Gmail</td><td>Starbucks</td><td>$12.45</td><td><span class="badgePill success" data-i18n="statusComplete">Complete</span></td></tr>
                  <tr><td>Invoice_Dec.pdf</td><td>üìÅ Drive</td><td>AWS</td><td>$847.23</td><td><span class="badgePill warn" data-i18n="statusProcessing">Processing</span></td></tr>
                  <tr><td>Uber_receipt.png</td><td>üí¨ Telegram</td><td>Uber</td><td>$34.67</td><td><span class="badgePill success" data-i18n="statusComplete">Complete</span></td></tr>
                </tbody>
              </table>
            </section>

            <!-- Financial Reports -->
            <section id="view-reports" class="subview hidden">
              <h3 data-i18n="dbReports">Financial Reports</h3>
              <div class="subtabs">
                <div class="subtab active" data-inner="pnl">P&amp;L</div>
                <div class="subtab" data-inner="balance" data-i18n="tabBalance">Balance Sheet</div>
                <div class="subtab" data-inner="cash" data-i18n="tabCash">Cash Flow</div>
              </div>
              <div id="reports-pnl" class="inner">
                <div class="grid" style="grid-template-columns:repeat(12,1fr);gap:16px">
                  <div class="col-6 glass"><h4>P&amp;L (Monthly)</h4><canvas id="rep_pnl"></canvas></div>
                  <div class="col-6 glass"><h4 data-i18n="topCategories">Top Categories</h4><canvas id="rep_doughnut"></canvas></div>
                </div>
              </div>
              <div id="reports-balance" class="inner hidden">
                <div class="grid" style="grid-template-columns:repeat(12,1fr);gap:16px">
                  <div class="col-6 glass"><h4 data-i18n="assetsVsLiab">Assets vs Liabilities</h4><canvas id="rep_balance"></canvas></div>
                  <div class="col-6 glass"><h4 data-i18n="equityTrend">Equity Trend</h4><canvas id="rep_equity"></canvas></div>
                </div>
              </div>
              <div id="reports-cash" class="inner hidden">
                <div class="grid" style="grid-template-columns:repeat(12,1fr);gap:16px">
                  <div class="col-6 glass"><h4 data-i18n="cashInOut">Cash In vs Out</h4><canvas id="rep_cash"></canvas></div>
                  <div class="col-6 glass"><h4 data-i18n="runway">Runway (months)</h4><canvas id="rep_runway"></canvas></div>
                </div>
              </div>
            </section>

            <!-- Carbon -->
            <section id="view-carbon" class="subview hidden">
              <h3 data-i18n="dbCarbon">Carbon Accounting</h3>
              <div class="grid" style="grid-template-columns:repeat(12,1fr);gap:16px">
                <div class="col-4 glass"><h4 data-i18n="scopeBreakdown">Scope Breakdown</h4><canvas id="car_donut"></canvas></div>
                <div class="col-4 glass"><h4 data-i18n="emissionsOverTime">Emissions Over Time</h4><canvas id="car_line"></canvas></div>
                <div class="col-4 glass"><h4 data-i18n="topContrib">Top Contributors</h4><canvas id="car_bar"></canvas></div>
              </div>
            </section>

            <!-- Banking -->
            <section id="view-banking" class="subview hidden">
              <h3 data-i18n="dbBanking">Banking Reports</h3>
              <div class="grid" style="grid-template-columns:repeat(12,1fr);gap:16px">
                <div class="col-6 glass"><h4 data-i18n="accountBalances">Account Balances</h4><canvas id="bnk_bar"></canvas></div>
                <div class="col-6 glass">
                  <h4 data-i18n="transactions">Transactions</h4>
                  <table class="table">
                    <thead><tr><th data-i18n="thDate">Date</th><th data-i18n="thDesc">Description</th><th data-i18n="thAmount">Amount</th><th data-i18n="thType">Type</th></tr></thead>
                    <tbody>
                      <tr><td>12/01</td><td>Stripe Payout</td><td>$3,245.00</td><td>In</td></tr>
                      <tr><td>12/02</td><td>AWS</td><td>$-420.11</td><td>Out</td></tr>
                      <tr><td>12/03</td><td>Payroll</td><td>$-8,245.00</td><td>Out</td></tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </section>

            <!-- Integrations -->
            <section id="view-integrations" class="subview hidden">
              <h3 data-i18n="dbIntegrations">Integrations</h3>
              <div class="grid" style="grid-template-columns:repeat(12,1fr);gap:16px">
                <div class="col-4 metric"><div class="label">Gmail</div><div class="value" data-i18n="connected">Connected</div><span class="badgePill success">‚úì</span></div>
                <div class="col-4 metric"><div class="label">Google Drive</div><div class="value" data-i18n="connected">Connected</div><span class="badgePill success">‚úì</span></div>
                <div class="col-4 metric"><div class="label">Telegram</div><div class="value" data-i18n="connected">Connected</div><span class="badgePill success">‚úì</span></div>
                <div class="col-4 metric"><div class="label">Outlook</div><div class="value">Available</div><span class="badgePill">Connect</span></div>
                <div class="col-4 metric"><div class="label">Dropbox</div><div class="value">Available</div><span class="badgePill">Connect</span></div>
                <div class="col-4 metric"><div class="label">Xero</div><div class="value">Coming soon</div><span class="badgePill warn">Waitlist</span></div>
              </div>
            </section>

            <!-- Settings -->
            <section id="view-settings" class="subview hidden">
              <h3 data-i18n="dbSettings">Settings</h3>
              <div class="grid" style="grid-template-columns:repeat(12,1fr);gap:16px">
                <div class="col-6 glass">
                  <h4 data-i18n="profile">Profile</h4>
                  <div class="sub">Name</div><input placeholder="John Doe" style="padding:10px;border:1px solid #e5e7eb;border-radius:8px;width:100%"/>
                  <div style="height:8px"></div>
                  <div class="sub">Company</div><input placeholder="Acme Inc." style="padding:10px;border:1px solid #e5e7eb;border-radius:8px;width:100%"/>
                  <div style="height:12px"></div>
                  <button class="btn btn-primary">Save</button>
                </div>
                <div class="col-6 glass">
                  <h4 data-i18n="preferences">Preferences</h4>
                  <label><input type="checkbox" checked/> Dark mode</label><br/>
                  <label><input type="checkbox" checked/> Email summaries</label><br/>
                  <label><input type="checkbox"/> Product updates</label>
                </div>
              </div>
            </section>
          </main>
        </div>
      </div>
    </section>
  </main>
</div>

<div class="mobile-nav" id="mnav" style="display:none">
  <button data-jump="#general" data-i18n="home">Home</button>
  <button data-jump="#differentiators" data-i18n="why">Why</button>
  <button data-jump="#signup" data-i18n="signup">Sign‚Äëup</button>
</div>
<button class="fab" id="fab" title="Quick upload" style="display:none">Ôºã</button>

<script>
  // i18n dictionary
  const i18n = {
    en: {
      tabLanding: "Landing", tabDash:"Dashboard",
      groupLanding:"Landing", groupDashboard:"Dashboard",
      navGeneral:"General", navDiff:"Differentiators", navSignup:"Sign‚Äëup & Integrations",
      badgeSoc2:"SOC2‚Äëready", badgeOcr:"Sub‚Äësecond OCR", badgeCarbon:"Carbon Passport",
      heroTitle:"Your AI‚ÄëPowered CFO in the Cloud",
      heroSub:"Connect email, drives, and chats ‚Äî CloudCFO auto‚Äëdiscovers receipts, extracts data in <b>&lt;500ms</b>, and turns them into real‚Äëtime insights and a üå± Carbon Passport.",
      btnConnect:"üîç Connect your accounts", btnUpload:"üì§ Quick upload",
      worksWith:"Works with: Gmail ¬∑ Drive ¬∑ Dropbox ¬∑ WhatsApp ¬∑ Telegram",
      metricTotalExpenses:"Total Expenses", metricCarbon:"Carbon this month", metricDocs:"Docs processed", metricHit:"Hit rate", metricAccSla:"‚úì Accuracy SLA",
      whyTitle:"Why CloudCFO", whySub:"AI‚Äëfirst financial automation, native chat integrations, and built‚Äëin carbon intelligence.",
      featAI:"AI‚ÄëFirst Extraction", featAIDesc:"Advanced LLM + vision pipeline delivers <b>sub‚Äësecond</b> processing and self‚Äëlearning patterns.",
      featChat:"WhatsApp & Telegram Native", featChatDesc:"Send a photo, we do the rest ‚Äî the fastest way to capture receipts on mobile.",
      featCarbon:"Carbon Passport", featCarbonDesc:"Automatic Scope 1/2/3 mapping from invoices with downloadable, verifiable passports.",
      featDev:"Developer‚ÄëFriendly", featDevDesc:"Clean APIs & webhooks, great docs, and thoughtful defaults inspired by Stripe.",
      perfSnap:"Performance snapshot",
      signupTitle:"Sign‚Äëup & Connect your channels", signupSub:"Choose any intake source below. We‚Äôll start auto‚Äëdiscovering receipts instantly.",
      found:"found", accuracy:"Accuracy", connected:"Connected", connect:"Connect",
      outlookDesc:"Import from Microsoft email", dropboxDesc:"Scan selected folders", waDesc:"Forward photos or PDFs", slackDesc:"Scan workspace channels", onedriveDesc:"Microsoft cloud storage",
      discoverMetrics:"Discovery metrics", receiptsFound:"847 Receipts Found", accuracyRate:"92% Accuracy", avgTime:"3.2 min Avg discovery time",
      footer:"Built with ‚ù§Ô∏è ‚Äî micro‚Äëinteractions, parallax, and smooth page transitions included. Try on mobile to see bottom navigation, swipeable cards and pull‚Äëto‚Äërefresh.",
      home:"Home", why:"Why", signup:"Sign‚Äëup",
      // Dashboard
      dashTitle:"Analytics Dashboard",
      dbOverview:"Overview", dbReports:"Financial Reports", dbCarbon:"Carbon Accounting", dbBanking:"Banking Reports", dbIntegrations:"Integrations", dbSettings:"Settings",
      kpiExpenses:"Total Expenses", kpiDocs:"Docs Processed", kpiTax:"Tax Deductions", kpiCo2:"CO‚ÇÇe (month)",
      chartRevExp:"Monthly Revenue vs Expenses", chartUsers:"Monthly Users", recentActivity:"Recent Activity",
      thDoc:"Document", thSource:"Source", thVendor:"Vendor", thAmount:"Amount", thStatus:"Status",
      statusComplete:"Complete", statusProcessing:"Processing",
      tabBalance:"Balance Sheet", tabCash:"Cash Flow", topCategories:"Top Categories",
      assetsVsLiab:"Assets vs Liabilities", equityTrend:"Equity Trend", cashInOut:"Cash In vs Out", runway:"Runway (months)",
      scopeBreakdown:"Scope Breakdown", emissionsOverTime:"Emissions Over Time", topContrib:"Top Contributors",
      accountBalances:"Account Balances", transactions:"Transactions",
      thDate:"Date", thDesc:"Description", thType:"Type",
      profile:"Profile", preferences:"Preferences"
    },
    fr: {
      tabLanding:"Accueil", tabDash:"Tableau de bord",
      groupLanding:"Accueil", groupDashboard:"Tableau de bord",
      navGeneral:"G√©n√©ral", navDiff:"Diff√©renciateurs", navSignup:"Inscription & Int√©grations",
      badgeSoc2:"Pr√™t pour SOC2", badgeOcr:"OCR en dessous d‚Äô1s", badgeCarbon:"Passeport Carbone",
      heroTitle:"Votre CFO aliment√© par l‚ÄôIA, dans le cloud",
      heroSub:"Connectez e‚Äëmails, drives et messageries ‚Äî CloudCFO d√©couvre automatiquement les re√ßus, extrait les donn√©es en <b>&lt;500ms</b> et les transforme en insights temps r√©el et en üå± Passeport Carbone.",
      btnConnect:"üîç Connecter vos comptes", btnUpload:"üì§ T√©l√©versement rapide",
      worksWith:"Fonctionne avec : Gmail ¬∑ Drive ¬∑ Dropbox ¬∑ WhatsApp ¬∑ Telegram",
      metricTotalExpenses:"D√©penses totales", metricCarbon:"Carbone du mois", metricDocs:"Documents trait√©s", metricHit:"Taux de r√©ussite", metricAccSla:"‚úì SLA de pr√©cision",
      whyTitle:"Pourquoi CloudCFO", whySub:"Automatisation financi√®re IA‚Äëfirst, int√©grations de messagerie natives et intelligence carbone int√©gr√©e.",
      featAI:"Extraction IA‚ÄëFirst", featAIDesc:"Pipeline LLM + vision offrant un traitement <b>sub‚Äëseconde</b> et des mod√®les auto‚Äëapprenants.",
      featChat:"Natif WhatsApp & Telegram", featChatDesc:"Envoyez une photo, on s‚Äôoccupe du reste ‚Äî la mani√®re la plus rapide de capturer des re√ßus sur mobile.",
      featCarbon:"Passeport Carbone", featCarbonDesc:"Cartographie automatique des Scopes 1/2/3 √† partir des factures avec passeports t√©l√©chargeables et v√©rifiables.",
      featDev:"Pens√© pour les d√©veloppeurs", featDevDesc:"APIs & webhooks clairs, excellente doc et bons d√©fauts inspir√©s de Stripe.",
      perfSnap:"Instantan√© de performance",
      signupTitle:"Inscrivez‚Äëvous & connectez vos canaux", signupSub:"Choisissez une source ci‚Äëdessous. Nous commencerons la d√©couverte des re√ßus imm√©diatement.",
      found:"trouv√©s", accuracy:"Pr√©cision", connected:"Connect√©", connect:"Connecter",
      outlookDesc:"Import depuis Microsoft email", dropboxDesc:"Scanner des dossiers s√©lectionn√©s", waDesc:"Transf√©rez des photos ou PDF", slackDesc:"Scanner les canaux de l‚Äôespace de travail", onedriveDesc:"Stockage cloud Microsoft",
      discoverMetrics:"Indicateurs de d√©couverte", receiptsFound:"847 re√ßus trouv√©s", accuracyRate:"92% de pr√©cision", avgTime:"3,2 min Temps moyen de d√©couverte",
      footer:"Con√ßu avec ‚ù§Ô∏è ‚Äî micro‚Äëinteractions, parallaxe et transitions fluides incluses. Essayez sur mobile : barre de navigation, cartes swipe et pull‚Äëto‚Äërefresh.",
      home:"Accueil", why:"Pourquoi", signup:"Inscription",
      // Dashboard
      dashTitle:"Tableau de bord analytique",
      dbOverview:"Vue d‚Äôensemble", dbReports:"Rapports financiers", dbCarbon:"Comptabilit√© carbone", dbBanking:"Rapports bancaires", dbIntegrations:"Int√©grations", dbSettings:"Param√®tres",
      kpiExpenses:"D√©penses totales", kpiDocs:"Documents trait√©s", kpiTax:"D√©ductions fiscales", kpiCo2:"CO‚ÇÇe (mois)",
      chartRevExp:"Revenus vs D√©penses mensuels", chartUsers:"Utilisateurs mensuels", recentActivity:"Activit√© r√©cente",
      thDoc:"Document", thSource:"Source", thVendor:"Fournisseur", thAmount:"Montant", thStatus:"Statut",
      statusComplete:"Termin√©", statusProcessing:"En cours",
      tabBalance:"Bilan", tabCash:"Flux de tr√©sorerie", topCategories:"Cat√©gories principales",
      assetsVsLiab:"Actifs vs Passifs", equityTrend:"√âvolution des capitaux propres", cashInOut:"Entr√©es vs sorties de tr√©sorerie", runway:"Piste (mois)",
      scopeBreakdown:"R√©partition des scopes", emissionsOverTime:"√âmissions dans le temps", topContrib:"Principaux contributeurs",
      accountBalances:"Soldes des comptes", transactions:"Transactions",
      thDate:"Date", thDesc:"Description", thType:"Type",
      profile:"Profil", preferences:"Pr√©f√©rences"
    }
  };
  let lang='en';
  function applyI18n(){
    document.querySelectorAll('[data-i18n]').forEach(el=>{
      const key = el.getAttribute('data-i18n');
      if(i18n[lang][key]) el.innerHTML = i18n[lang][key];
    });
    document.getElementById('btnEN').classList.toggle('active', lang==='en');
    document.getElementById('btnFR').classList.toggle('active', lang==='fr');
    document.getElementById('ptr').textContent = lang==='en' ? '‚Üì Pull to refresh' : '‚Üì Tirer pour rafra√Æchir';
    document.getElementById('fab').title = lang==='en' ? 'Quick upload' : 'T√©l√©versement rapide';
  }
  document.getElementById('btnEN').onclick = ()=>{lang='en'; applyI18n(); updateCharts();};
  document.getElementById('btnFR').onclick = ()=>{lang='fr'; applyI18n(); updateCharts();};

  // Top tabs toggle (Landing vs Dashboard)
  const tabLanding=document.getElementById('tabLanding');
  const tabDash=document.getElementById('tabDash');
  const landingNav=document.getElementById('landingNav');
  const dashNav=document.getElementById('dashNav');
  const dashboardRoot=document.getElementById('dashboardRoot');
  function toggleMode(mode){
    const isDash= mode==='dash';
    tabLanding.classList.toggle('active', !isDash);
    tabDash.classList.toggle('active', isDash);
    landingNav.classList.toggle('hidden', isDash);
    dashNav.classList.toggle('hidden', !isDash);
    // Show/hide dashboard main section
    dashboardRoot.classList.toggle('hidden', !isDash);
    // Hide landing sections when dashboard is on
    document.getElementById('general').style.display = isDash ? 'none':'block';
    document.getElementById('differentiators').style.display = isDash ? 'none':'block';
    document.getElementById('signup').style.display = isDash ? 'none':'block';
    if(isDash){ initDashboardCharts(); }
  }
  tabLanding.onclick = ()=> toggleMode('landing');
  tabDash.onclick = ()=> toggleMode('dash');

  function activate(target){
    // Decide which nav group is visible
    const activeNav = landingNav.classList.contains('hidden') ? dashNav : landingNav;
    activeNav.querySelectorAll('.nav-item').forEach(i=>i.classList.remove('active'));
    const el = activeNav.querySelector(`[data-target="${target}"]`);
    if(el) el.classList.add('active');
    if(target.startsWith('#dash-')){
      // dashboard internal routing
      toggleMode('dash');
      const map = {
        '#dash-overview':'view-overview',
        '#dash-reports':'view-reports',
        '#dash-carbon':'view-carbon',
        '#dash-banking':'view-banking',
        '#dash-integrations':'view-integrations',
        '#dash-settings':'view-settings'
      };
      document.querySelectorAll('.subview').forEach(v=>v.classList.add('hidden'));
      document.getElementById(map[target]).classList.remove('hidden');
      window.scrollTo({top:document.getElementById('dashboardRoot').offsetTop-16, behavior:'smooth'});
    }else{
      document.querySelector(target)?.scrollIntoView({behavior:'smooth', block:'start'});
    }
  }
  document.querySelectorAll('.nav-item').forEach(i=> i.addEventListener('click', ()=> activate(i.dataset.target)));
  document.querySelectorAll('[data-jump]').forEach(b=> b.addEventListener('click',()=> {
    const t = b.getAttribute('data-jump'); document.querySelector(t)?.scrollIntoView({behavior:'smooth'});
  }));

  document.getElementById('connectBtn').addEventListener('click', ()=>activate('#signup'));
  document.getElementById('uploadBtn').addEventListener('click', ()=>alert(lang==='en'?'Open file picker (demo).':'Ouvrir le s√©lecteur de fichiers (d√©mo).'));
  document.getElementById('fab').addEventListener('click', ()=>alert(lang==='en'?'Quick upload (demo).':'T√©l√©versement rapide (d√©mo).'));

  // Mobile affordances (swipe & pull to refresh) ‚Äî landing cards
  let startX=0;
  document.querySelectorAll('.svc').forEach(card=>{
    card.addEventListener('touchstart', e=> startX = e.touches[0].clientX);
    card.addEventListener('touchend', e=> {
      const dx = e.changedTouches[0].clientX - startX;
      if(Math.abs(dx) > 60){
        card.style.transform = `translateX(${dx>0? '60px':'-60px'}) rotate(${dx>0? '1deg':'-1deg'})`;
        card.style.opacity = .9;
        setTimeout(()=>{ card.style.transform=''; card.style.opacity=''; }, 400);
      }
    });
  });

  // Pull to refresh (demo)
  let pulling=false, y0=0;
  window.addEventListener('touchstart', e=>{ if(window.scrollY<=2){pulling=true; y0 = e.touches[0].clientY;} });
  window.addEventListener('touchmove', e=>{ if(!pulling) return; const dy = e.touches[0].clientY - y0; if(dy>40) document.getElementById('ptr').classList.add('show-ptr'); });
  window.addEventListener('touchend', ()=>{
    if(document.getElementById('ptr').classList.contains('show-ptr')){
      setTimeout(()=>{
        document.getElementById('ptr').textContent= lang==='en' ? '‚úì Refreshed' : '‚úì Actualis√©';
        setTimeout(()=>{
          document.getElementById('ptr').classList.remove('show-ptr');
          document.getElementById('ptr').textContent= lang==='en' ? '‚Üì Pull to refresh' : '‚Üì Tirer pour rafra√Æchir';
        },700);
      },250);
    }
    pulling=false;
  });

  // Landing charts
  const ctx1 = document.getElementById('spark1').getContext('2d');
  const ctx2 = document.getElementById('spark2').getContext('2d');
  const grad = (ctx, c1, c2)=>{ const g = ctx.createLinearGradient(0,0,0,100); g.addColorStop(0, c1); g.addColorStop(1, c2); return g; };
  const common = {plugins:{legend:{display:false}, tooltip:{backgroundColor:'rgba(255,255,255,.6)', titleColor:'#0a1628', bodyColor:'#0a1628', borderColor:'rgba(0,0,0,.1)', borderWidth:1, padding:10}}, scales:{x:{display:false}, y:{display:false}}, elements:{line:{tension:.4, borderWidth:2}, point:{radius:0}}};
  new Chart(ctx1, {type:'line', data:{labels:[...Array(16).keys()], datasets:[{data:[8,9,8,10,12,13,12,14,16,15,16,18,16,19,18,20], borderColor:'#7dc5ff', fill:true, backgroundColor:grad(ctx1, 'rgba(125,197,255,.5)','rgba(125,197,255,0)')} ]}, options: common});
  new Chart(ctx2, {type:'line', data:{labels:[...Array(16).keys()], datasets:[{data:[2.8,2.6,2.5,2.7,2.4,2.3,2.5,2.2,2.1,2.3,2.2,2.0,2.1,2.0,2.4,2.4], borderColor:'#7fffd4', fill:true, backgroundColor:grad(ctx2, 'rgba(127,255,212,.45)','rgba(127,255,212,0)')}]}, options: common});

  const a = document.getElementById('areaChart').getContext('2d');
  new Chart(a, { type:'bar', data:{labels:['Mon','Tue','Wed','Thu','Fri','Sat','Sun'], datasets:[{label:'Docs', data:[90,120,150,130,180,220,210], borderRadius:10, backgroundColor: grad(a,'rgba(0,102,255,.75)','rgba(15,182,211,.5)')}]}, options:{plugins:{legend:{display:false}, tooltip:{backgroundColor:'rgba(255,255,255,.7)', titleColor:'#0a1628', bodyColor:'#0a1628', borderColor:'rgba(0,0,0,.08)', borderWidth:1, padding:12}}, scales:{y:{grid:{color:'rgba(0,0,0,.06)'}}, x:{grid:{display:false}}}} });

  const d = document.getElementById('donut').getContext('2d');
  const donut = new Chart(d, { type:'doughnut', data:{ labels:['Email','Drive','Chats','Other'], datasets:[{data:[523,189,135,0], borderWidth:0, hoverOffset:6, backgroundColor:['#3aa3ff','#10b981','#7c3aed','#9ca3af']}]}, options:{plugins:{legend:{position:'bottom'}}, cutout:'64%'} });
  function updateCharts(){
    donut.data.labels = lang==='en' ? ['Email','Drive','Chats','Other'] : ['Email','Drive','Chats','Autre'];
    donut.update();
  }

  // Dashboard logic
  const dbNavItems=document.querySelectorAll('.db-sidebar .db-item');
  dbNavItems.forEach(n=>n.addEventListener('click',()=>{
    dbNavItems.forEach(x=>x.classList.remove('active'));
    n.classList.add('active');
    const target='view-'+n.dataset.sub;
    document.querySelectorAll('#dashboardRoot .subview').forEach(v=>v.classList.add('hidden'));
    document.getElementById(target).classList.remove('hidden');
  }));

  // Financial report inner tabs
  const reportTabs=()=>{
    const container=document.getElementById('view-reports');
    const subs=container.querySelectorAll('.subtab');
    subs.forEach(s=>s.addEventListener('click',()=>{
      subs.forEach(x=>x.classList.remove('active'));
      s.classList.add('active');
      const inner=s.dataset.inner;
      container.querySelectorAll('.inner').forEach(v=>v.classList.add('hidden'));
      container.querySelector('#reports-'+inner).classList.remove('hidden');
    }));
  };
  reportTabs();

  // Mobile UI
  const mq = window.matchMedia('(max-width: 980px)');
  const toggleMobile = () => {
    const show = mq.matches;
    document.getElementById('mnav').style.display = show ? 'flex' : 'none';
    document.getElementById('fab').style.display = show ? 'block' : 'none';
  };
  toggleMobile(); mq.addEventListener('change', toggleMobile);

  // Confetti success when connecting
  document.querySelectorAll('.connect').forEach(btn=>{
    btn.addEventListener('click', (e)=>{
      if(btn.textContent.includes('‚úì')) return;
      btn.innerHTML = '‚úì ' + (lang==='en' ? 'Connected' : 'Connect√©');
      btn.closest('.svc').classList.add('connected');
      confetti(e.clientX || window.innerWidth/2, e.clientY || window.innerHeight/2);
    });
  });
  function confetti(x,y){
    const n=24; for(let i=0;i<n;i++){ const s=document.createElement('div');
      s.style.position='fixed'; s.style.left=x+'px'; s.style.top=y+'px';
      s.style.width=s.style.height='6px'; s.style.background=['#3aa3ff','#10B981','#F59E0B','#FF6B6B'][i%4];
      s.style.borderRadius='2px'; s.style.pointerEvents='none'; document.body.appendChild(s);
      const ang = (Math.PI*2)*(i/n), dist = 60 + Math.random()*60, dx=Math.cos(ang)*dist, dy=Math.sin(ang)*dist;
      s.animate([{transform:'translate(0,0)'},{transform:`translate(${dx}px, ${dy}px)`, opacity:0}], {duration:600+Math.random()*400, easing:'ease-out'})
        .onfinish = ()=> s.remove();
    }
  }

  // Initialize dashboard charts on first open
  let dashboardReady=false;
  function initDashboardCharts(){
    if(dashboardReady) return; dashboardReady=true;
    // Overview
    new Chart(document.getElementById('ov_line'),{
      type:'line',
      data:{labels:['Jan','Mar','May','Jul','Sep','Nov'],
        datasets:[{label:'Revenue',data:[70,85,120,150,170,200],borderColor:'#0066FF',tension:.3,fill:false},
                  {label:'Expenses',data:[40,50,60,70,85,95],borderColor:'#10B981',tension:.3,fill:false}]},
      options:{plugins:{legend:{position:'bottom'}},scales:{y:{grid:{color:'rgba(0,0,0,.06)'}}}}
    });
    new Chart(document.getElementById('ov_bar'),{
      type:'bar',
      data:{labels:['Jan','Mar','May','Jul','Sep','Nov'],
        datasets:[{label:'Active Users',data:[120,240,380,560,720,900],backgroundColor:'#0891B2'}]},
      options:{plugins:{legend:{display:false}},scales:{y:{grid:{color:'rgba(0,0,0,.06)'}}}}
    });

    // Reports -> P&L
    new Chart(document.getElementById('rep_pnl'),{
      type:'bar',
      data:{labels:['Jan','Feb','Mar','Apr','May','Jun'],
        datasets:[{label:'Revenue',data:[45,50,58,62,70,76],backgroundColor:'#0066FF'},
                  {label:'COGS',data:[18,20,21,22,25,28],backgroundColor:'#9CA3AF'},
                  {label:'OpEx',data:[12,13,14,15,16,17],backgroundColor:'#10B981'}]},
      options:{plugins:{legend:{position:'bottom'}},scales:{y:{grid:{color:'rgba(0,0,0,.06)'}}}}
    });
    new Chart(document.getElementById('rep_doughnut'),{
      type:'doughnut',
      data:{labels:['Payroll','Infra','Marketing','G&A'],
        datasets:[{data:[45,20,22,13],backgroundColor:['#0066FF','#0891B2','#10B981','#F59E0B']} ]},
      options:{plugins:{legend:{position:'bottom'}}}
    });
    // Reports -> Balance
    new Chart(document.getElementById('rep_balance'),{
      type:'line',
      data:{labels:['Q1','Q2','Q3','Q4'],
        datasets:[{label:'Assets',data:[120,140,160,190],borderColor:'#0066FF',tension:.3},
                  {label:'Liabilities',data:[70,75,82,90],borderColor:'#FF6B6B',tension:.3}]},
      options:{plugins:{legend:{position:'bottom'}}}
    });
    new Chart(document.getElementById('rep_equity'),{
      type:'bar',
      data:{labels:['Q1','Q2','Q3','Q4'],datasets:[{label:'Equity',data:[50,65,78,100],backgroundColor:'#10B981'}]},
      options:{plugins:{legend:{display:false}}}
    });
    // Reports -> Cash
    new Chart(document.getElementById('rep_cash'),{
      type:'bar',
      data:{labels:['Jan','Feb','Mar','Apr','May','Jun'],
        datasets:[{label:'Cash In',data:[20,24,26,28,34,36],backgroundColor:'#10B981'},
                  {label:'Cash Out',data:[18,19,22,24,26,29],backgroundColor:'#FF6B6B'}]},
      options:{plugins:{legend:{position:'bottom'}}}
    });
    new Chart(document.getElementById('rep_runway'),{
      type:'line',
      data:{labels:['Now','+3m','+6m','+9m','+12m'],datasets:[{label:'Runway (months)',data:[8,10,12,14,16],borderColor:'#0891B2'}]}
    });

    // Carbon
    new Chart(document.getElementById('car_donut'),{
      type:'doughnut',
      data:{labels:['Scope 1','Scope 2','Scope 3'],datasets:[{data:[15,25,60],backgroundColor:['#64B5F6','#BA68C8','#81C784']}]},
      options:{plugins:{legend:{position:'bottom'}}}
    });
    new Chart(document.getElementById('car_line'),{
      type:'line',
      data:{labels:['Jan','Feb','Mar','Apr','May','Jun'],datasets:[{label:'tCO‚ÇÇe',data:[2.8,2.6,2.5,2.4,2.3,2.2],borderColor:'#10B981',tension:.3}]}
    });
    new Chart(document.getElementById('car_bar'),{
      type:'bar',
      data:{labels:['Transport','Energy','Materials','Waste'],datasets:[{label:'kg CO‚ÇÇe',data:[700,480,980,120],backgroundColor:'#0066FF'}]},
      options:{plugins:{legend:{display:false}}}
    });

    // Banking
    new Chart(document.getElementById('bnk_bar'),{
      type:'bar',
      data:{labels:['Main','Savings','Payroll','Taxes'],datasets:[{label:'Balance ($k)',data:[120,60,22,18],backgroundColor:'#0891B2'}]},
      options:{plugins:{legend:{position:'bottom'}}}
    });
  }
  // Initialize landing visuals on load
  window.addEventListener('load',()=>{ applyI18n(); updateCharts(); });
</script>
</body>
</html>
